{% extends "base.html" %}

{% block title %}
Range Result
{% endblock %}
{% block body %}
    <h1>Range results</h1>

    <div id="chart">
        <svg></svg>
    </div>
{% endblock %}
{% block style %}
    <style>
        #chart svg {
            height: 400px;
        }
    </style>
{% endblock %}

{% block javascript %}
    <script type="text/javascript" id="range_histogram">
        range_data = {{ result.histogram|safe }}

        nv.addGraph(function() {
            var chart = nv.models.discreteBarChart()
                .x(function(d) { return d.label })
                .y(function(d) { return d.value })
                .staggerLabels(true)
                .tooltips(false)
                .showValues(true)

            d3.select('#chart svg')
                .datum(range_data)
                .transition().duration(500)
                .call(chart)
            ;

            nv.utils.windowResize(chart.update);

            return chart;
        });
    </script>
{% endblock %}